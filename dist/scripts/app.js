!function(){angular.module("cmiApp",["ngRoute","geolocation","gservice","calendarDemoApp"])}();
!function(){"use strict";angular.module("cmiApp").config(["$routeProvider",function(t){var r=[{url:"/calendar",config:{controller:"calendarController",templateUrl:"/app/calendar/calendar.html"}},{url:"/findevent",config:{controller:"queryController",templateUrl:"/app/events/findEvent.html"}},{url:"/addevent",config:{controller:"eventController",templateUrl:"/app/events/addEvent.html"}},{url:"/introduction",config:{templateUrl:"/app/introduction/introduction.tmpl.html"}},{url:"/intro",config:{templateUrl:"/app/introduction/intro.html"}},{url:"/itinerary",config:{templateUrl:"/app/itinerary/itinerary.html"}},{url:"/travel",config:{templateUrl:"/app/travel/travel-cmi.html"}},{url:"/hex",config:{templateUrl:"/app/introduction/hexback.html"}}];r.forEach(function(r){t.when(r.url,r.config)}),t.otherwise({redirectTo:"/intro"})}])}();
angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(n,e){var a=n.eventSources,r=n.calendarWatchEvent?n.calendarWatchEvent:angular.noop,t=function(e){return function(){if(n.$root.$$phase)return e.apply(this,arguments);var a=arguments,r=this;return n.$root.$apply(function(){return e.apply(r,a)})}},l=1;this.eventFingerprint=function(n){n._id||(n._id=l++);var e=r({event:n})||"",a=moment.isMoment(n.start)?n.start.unix():n.start?moment(n.start).unix():"",t=moment.isMoment(n.end)?n.end.unix():n.end?moment(n.end).unix():"";return""+n._id+(n.id||"")+(n.title||"")+(n.url||"")+a+t+(n.allDay||"")+(n.className||"")+e};var o=1,u=1;this.sourceFingerprint=function(n){var e=""+(n.__id||(n.__id=o++)),a=angular.isObject(n)&&n.events;return a&&(e=e+"-"+(a.__id||(a.__id=u++))),e},this.allEvents=function(){for(var n=[],e=0,r=a.length;r>e;e++){var t=a[e];if(angular.isArray(t))n.push(t);else if(angular.isObject(t)&&angular.isArray(t.events)){var l={};for(var o in t)"_id"!==o&&"events"!==o&&(l[o]=t[o]);for(var u=0;u<t.events.length;u++)angular.extend(t.events[u],l);n.push(t.events)}}return Array.prototype.concat.apply([],n)},this.changeWatcher=function(n,e){var a,r=function(){for(var a,r,t=angular.isFunction(n)?n():n,o=[],u=0,i=t.length;i>u;u++)r=t[u],a=e(r),l[a]=r,o.push(a);return o},t=function(n,e){var a,r,t=[],l={};for(a=0,r=e.length;r>a;a++)l[e[a]]=!0;for(a=0,r=n.length;r>a;a++)l[n[a]]||t.push(n[a]);return t},l={},o=function(n,r){var o,u,i,d,c={},s=t(r,n);for(o=0,u=s.length;u>o;o++){var f=s[o];i=l[f],delete l[f];var v=e(i);v===f?a.onRemoved(i):(c[v]=f,a.onChanged(i))}var g=t(n,r);for(o=0,u=g.length;u>o;o++)d=g[o],i=l[d],c[d]||a.onAdded(i)};return a={subscribe:function(n,e){n.$watch(r,function(n,a){var r=!(e&&e(n,a)===!1);r&&o(n,a)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},this.getFullCalendarConfig=function(n,e){var a={};return angular.extend(a,e),angular.extend(a,n),angular.forEach(a,function(n,e){"function"==typeof n&&(a[e]=t(a[e]))}),a},this.getLocaleConfig=function(n){if(!n.lang||n.useNgLocale){var a=function(n){var e,a;e=[];for(a in n)e[a]=n[a];return e},r=e.DATETIME_FORMATS;return{monthNames:a(r.MONTH),monthNamesShort:a(r.SHORTMONTH),dayNames:a(r.DAY),dayNamesShort:a(r.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(n){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(e,a,r,t){function l(){var a,l=r.uiCalendar?e.$parent.$eval(r.uiCalendar):{};a=t.getFullCalendarConfig(l,n);var o=t.getLocaleConfig(a);angular.extend(o,a),s={eventSources:u},angular.extend(s,o),s.calendars=null;var i={};for(var d in s)"eventSources"!==d&&(i[d]=s[d]);return JSON.stringify(i)}var o,u=e.eventSources,i=!1,d=t.changeWatcher(u,t.sourceFingerprint),c=t.changeWatcher(t.allEvents,t.eventFingerprint),s=null;e.destroyCalendar=function(){o&&o.fullCalendar&&o.fullCalendar("destroy"),o=r.calendar?n.calendars[r.calendar]=$(a).html(""):$(a).html("")},e.initCalendar=function(){o||(o=angular.element(a).html("")),o.fullCalendar(s),r.calendar&&(n.calendars[r.calendar]=o),console.log(n.calendars[r.calendar].context)},e.$on("$destroy",function(){e.destroyCalendar()}),d.onAdded=function(e){o&&o.fullCalendar&&(o.fullCalendar(s),r.calendar&&(n.calendars[r.calendar]=o),o.fullCalendar("addEventSource",e),i=!0)},d.onRemoved=function(n){o&&o.fullCalendar&&(o.fullCalendar("removeEventSource",n),i=!0)},d.onChanged=function(){o&&o.fullCalendar&&(o.fullCalendar("refetchEvents"),i=!0)},c.onAdded=function(n){o&&o.fullCalendar&&o.fullCalendar("renderEvent",n,n.stick?!0:!1)},c.onRemoved=function(n){o&&o.fullCalendar&&o.fullCalendar("removeEvents",n._id)},c.onChanged=function(n){if(o&&o.fullCalendar)for(var e=o.fullCalendar("clientEvents",n._id),a=0;a<e.length;a++){var r=e[a];r=angular.extend(r,n),o.fullCalendar("updateEvent",r)}},d.subscribe(e),c.subscribe(e,function(){return i===!0?(i=!1,!1):void 0}),e.$watch(l,function(n,a){n!==a?(e.destroyCalendar(),e.initCalendar()):n&&angular.isUndefined(o)&&e.initCalendar()})}}}]);
var calendarDemoApp=angular.module("calendarDemoApp",["ui.calendar","ui.bootstrap"]);calendarDemoApp.controller("calendarController",function(e,n,a,t){var o=new Date,r=o.getDate(),l=o.getMonth(),c=o.getFullYear();e.changeTo="English",e.eventSource={googleCalendarApiKey:"AIzaSyCDyuMEpvjNHZS8ACf1rJPhxMOODrfJyL4",url:"http://www.google.com/calendar/feeds/15dcnca6hga2rqna9f651qc5d0@group.calendar.google.com",className:"gcal-event"},e.events=[],e.eventsF=function(e,n,a,t){var o=new Date(e).getTime()/1e3,r=(new Date(n).getTime()/1e3,new Date(e).getMonth()),l=[{title:"Feed Me "+r,start:o+5e4,end:o+1e5,allDay:!1,className:["customFeed"]}];t(l)},e.calEventsExt={color:"#f00",textColor:"yellow",events:[{type:"party",title:"Lunch",start:new Date(c,l,r,12,0),end:new Date(c,l,r,14,0),allDay:!1},{type:"party",title:"Lunch 2",start:new Date(c,l,r,12,0),end:new Date(c,l,r,14,0),allDay:!1},{type:"party",title:"Click for Google",start:new Date(c,l,28),end:new Date(c,l,29),url:"http://google.com/"}]},e.alertOnEventClick=function(n,a,t){e.alertMessage=n.title+" was clicked "},e.alertOnDrop=function(n,a,t,o,r,l){e.alertMessage="Event Dropped to make dayDelta "+a},e.alertOnResize=function(n,a,t,o,r,l){e.alertMessage="Event Resized to make dayDelta "+a},e.addRemoveEventSource=function(e,n){var a=0;angular.forEach(e,function(t,o){e[o]===n&&(e.splice(o,1),a=1)}),0===a&&e.push(n)},e.addEvent=function(){e.events.push({title:"Open Sesame",start:new Date(c,l,28),end:new Date(c,l,29),className:["openSesame"]})},e.remove=function(n){e.events.splice(n,1)},e.changeView=function(e,n){t.calendars[n].fullCalendar("changeView",e)},e.renderCalender=function(e){a(function(){t.calendars[e]&&t.calendars[e].fullCalendar("render")})},e.eventRender=function(a,t,o){t.attr({tooltip:a.title,"tooltip-append-to-body":!0}),n(t)(e)},e.uiConfig={calendar:{height:450,editable:!0,header:{left:"title",center:"",right:"today prev,next"},eventClick:e.alertOnEventClick,eventDrop:e.alertOnDrop,eventResize:e.alertOnResize,eventRender:e.eventRender}},e.changeLang=function(){"Hungarian"===e.changeTo?(e.uiConfig.calendar.dayNames=["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],e.uiConfig.calendar.dayNamesShort=["Vas","Hét","Kedd","Sze","Csüt","Pén","Szo"],e.changeTo="English"):(e.uiConfig.calendar.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.uiConfig.calendar.dayNamesShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.changeTo="Hungarian")},e.eventSources=[e.events,e.eventSource,e.eventsF],e.eventSources2=[e.calEventsExt,e.eventsF,e.events],console.log("eventSource[0] are ",e.eventSources[0]),console.log("eventSource are ",e.eventSources),console.log("events are ",e.events[0]),console.log("events are ",e.events)});
!function(){var t=["$scope","$http","$rootScope","geolocation","gservice"],a=function(t,a,o,e,r){var n=this;n.formData={};var i={},f={};n.formData.latitude=40.67,n.formData.longitude=-73.94,e.getLocation().then(function(t){f={lat:t.coords.latitude,"long":t.coords.longitude},n.formData.longitude=parseFloat(f["long"]).toFixed(3),n.formData.latitude=parseFloat(f.lat).toFixed(3),n.formData.htmlverified="Yep (Thanks for giving us real data!)",r.refresh(n.formData.latitude,n.formData.longitude)}),o.$on("clicked",function(){t.$apply(function(){n.formData.latitude=parseFloat(r.clickLat).toFixed(3),n.formData.longitude=parseFloat(r.clickLong).toFixed(3),n.formData.htmlverified="Nope (Thanks for spamming my map...)"})}),n.createEvent=function(){var t={eventname:n.formData.eventname,eventtype:n.formData.eventtype,duration:n.formData.duration,mustdo:n.formData.mustdo,location:[n.formData.longitude,n.formData.latitude],htmlverified:n.formData.htmlverified};a.post("/events",t).success(function(t){n.formData.eventname="",n.formData.eventtype="",n.formData.duration="",n.formData.mustdo="",r.refresh(n.formData.latitude,n.formData.longitude)}).error(function(t){console.log("DB Event Error: "+t)})},n.queryEvents=function(){i={longitude:parseFloat(t.formData.longitude),latitude:parseFloat(t.formData.latitude),distance:parseFloat(t.formData.distance),business:t.formData.business,family:t.formData.family,other:t.formData.other,minDuration:t.formData.minDuration,maxDuration:t.formData.maxDuration,mustdo:t.formData.mustdo,reqVerified:t.formData.verified},a.post("/query",i).success(function(a){r.refresh(i.latitude,i.longitude,a),t.queryCount=a.length}).error(function(t){console.log("Error "+t)})}};a.$inject=t,angular.module("cmiApp").controller("eventController",a)}();
!function(){var o=["$scope","$http","$rootScope","geolocation","gservice"],t=function(o,t,a,r,e){var i=this;i.formData={};var n={};i.formData.latitude=39.5,i.formData.longitude=-98.35,r.getLocation().then(function(o){coords={lat:o.coords.latitude,"long":o.coords.longitude},i.formData.longitude=parseFloat(coords["long"]).toFixed(3),i.formData.latitude=parseFloat(coords.lat).toFixed(3),e.refresh(i.formData.latitude,i.formData.longitude)}),a.$on("clicked",function(){o.$apply(function(){i.formData.latitude=parseFloat(e.clickLat).toFixed(3),i.formData.longitude=parseFloat(e.clickLong).toFixed(3),i.formData.htmlverified="Nope (Thanks for spamming my map...)"})}),i.queryEvents=function(){n={longitude:parseFloat(i.formData.longitude),latitude:parseFloat(i.formData.latitude),distance:parseFloat(i.formData.distance),business:i.formData.business,family:i.formData.family,other:i.formData.other,minDuration:i.formData.minDuration,maxDuration:i.formData.maxDuration,mustdo:i.formData.mustdo,reqVerified:i.formData.verified},t.post("/query",n).success(function(t){e.refresh(n.latitude,n.longitude,t),o.queryCount=t.length}).error(function(o){console.log("Error "+o)})}};t.$inject=o,angular.module("cmiApp").controller("queryController",t)}();
function rotation(){void 0===overflowOfTweens&&(overflowOfTweens=TweenMax.to("#listra",30,{rotation:360,transformOrigin:"50% 50%",ease:Linear.easeNone,repeat:-1}),TweenMax.to("#city",30,{rotation:-360,transformOrigin:"53.3% 54.7%",ease:Linear.easeNone,repeat:-1}),TweenMax.to("#relogio",1,{rotation:360,transformOrigin:"80% top ",ease:Linear.easeNone,repeat:-1}),TweenMax.to("#aviao",30,{rotation:360,transformOrigin:"200px 340px",ease:Linear.easeNone,repeat:-1}),TweenMax.to("#aviao_1_",20,{rotation:360,transformOrigin:"-100px -280px",ease:Linear.easeNone,repeat:-1}),TweenMax.to("#balao",80,{rotation:360,transformOrigin:"-50px 350px",ease:Linear.easeNone,repeat:-1,yoyo:!0}),TweenMax.to("#balao_1_",60,{rotation:-360,transformOrigin:"260px -240px",ease:Linear.easeNone,repeat:-1,yoyo:!0}),TweenMax.to("#nuvem",90,{rotation:360,transformOrigin:"50% 50%",ease:Linear.easeNone,repeat:-1,yoyo:!0}))}var overflowOfTweens,tl=new TimelineLite;tl.set("svg",{visibility:"visible"}).set(["#text","#pista",".obj","#nuvem","#aviao","#aviao_1_","#balao","#balao_1_"],{scale:0,transformOrigin:"50% 50%"}).staggerTo("#pista",1,{scale:1,transformOrigin:"50% 50%",ease:Elastic.easeInOut},"+=0").staggerTo(".obj",1,{scale:1,transformOrigin:"50% 50%",ease:Elastic.easeInOut},.1,"-=0.25").staggerTo(["#nuvem","#aviao","#aviao_1_","#balao","#balao_1_"],1,{scale:1,ease:Back.easeOut},.2,"-=0.25",rotation).to("#text",1,{scale:1,transformOrigin:"50% 50%",ease:Back.easeOut},"-=1");var bbox=document.getElementById("listra_1_").getBBox();TweenLite.set("#draggable",{svgOrigin:bbox.x+.5*bbox.width+" "+(bbox.y+.5*bbox.height)}),Draggable.create("#draggable",{type:"rotation",throwProps:!0});var $replay=$("#replay").mouseenter(function(){TweenLite.to("#icon",.4,{rotation:"+=360",transformOrigin:"50% 50%"})}).click(function(){tl.restart()});
!function(){"use strict";function t(t){t.route("introduction",{url:"/introduction",templateUrl:"app/introduction/introduction.tmpl.html",controller:"IntroductionController",controllerAs:"vm"}).route("hexback",{url:"/hexback",templateUrl:"app/introduction/hexback.html"})}angular.module("introduction").config(t)}();
!function(){"use strict";function e(e){var a=this;a.version=e.version,a.featureRows=[[{name:"Google Calendar",icon:"zmdi zmdi-laptop",palette:"cyan",hue:"200"},{name:"Google Maps",icon:"zmdi zmdi-palette",palette:"cyan",hue:"300"},{name:"Itinerary",icon:"zmdi zmdi-share",palette:"cyan",hue:"400"},{name:"Travel Hacks",icon:"zmdi zmdi-star",palette:"cyan",hue:"500"}],[{name:"Bucket lists",icon:"fa fa-google",palette:"cyan",hue:"600"},{name:"Trips",icon:"fa fa-th-large",palette:"cyan",hue:"700"},{name:"Control Panel",icon:"fa fa-terminal",palette:"cyan",hue:"800"},{name:"Social Media Connected",icon:"fa fa-css3",palette:"cyan",hue:"900"}]]}angular.module("introduction").controller("IntroductionController",e)}();
!function(){"use strict";angular.module("introduction",[])}();
var controller=new ScrollMagic.Controller;TweenMax.set("#timeline",{visibility:0});var tweenOne=new TweenMax.fromTo("#timeline",1,{drawSVG:"0%"},{drawSVG:"10%"}),scene1=new ScrollMagic.Scene({triggerElement:"#timeline"}).setTween(tweenOne).addTo(controller),tweenTwo=new TweenMax.fromTo("#timeline",1,{drawSVG:"10%"},{drawSVG:"20%"}),scene2=new ScrollMagic.Scene({triggerElement:".dayTwo"}).setTween(tweenTwo).addTo(controller),tweenThree=new TweenMax.fromTo("#timeline",1,{drawSVG:"20%"},{drawSVG:"40%"}),scene3=new ScrollMagic.Scene({triggerElement:".dayThree"}).setTween(tweenThree).addTo(controller),tweenFour=new TweenMax.fromTo("#timeline",1,{drawSVG:"40%"},{drawSVG:"65%"}),scene3=new ScrollMagic.Scene({triggerElement:".dayFour"}).setTween(tweenFour).addTo(controller),tweenFive=new TweenMax.fromTo("#timeline",1,{drawSVG:"65%"},{drawSVG:"85%"}),scene3=new ScrollMagic.Scene({triggerElement:".dayFive"}).setTween(tweenFive).addTo(controller),tweenSix=new TweenMax.fromTo("#timeline",1,{drawSVG:"85%"},{drawSVG:"102%"}),scene3=new ScrollMagic.Scene({triggerElement:".daySix"}).setTween(tweenSix).addTo(controller);
angular.module("gservice",[]).factory("gservice",function(e,t){var a,n,o={},s=[],r=39.5,i=-98.35;o.clickLat=0,o.clickLong=0,o.refresh=function(e,a){s=[],r=e,i=a,t.get("/events").success(function(t){s=l(t),m(e,a)}).error(function(){})};var l=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a],o="<p><b>Eventname</b>: "+n.eventname+"<br><b>Duration</b>: "+n.duration+"<br><b>Type</b>: "+n.eventtype+"<br><b>Must Do</b>: "+n.mustdo+"</p>";t.push({latlon:new google.maps.LatLng(n.location[1],n.location[0]),message:new google.maps.InfoWindow({content:o,maxWidth:320}),username:n.eventname,gender:n.duration,eventtype:n.eventtype,mustdo:n.mustdo})}return t},m=function(t,l){var m={lat:r,lng:i};if(!g)var g=new google.maps.Map(document.getElementById("map"),{zoom:3,center:m,styles:[{elementType:"geometry",stylers:[{hue:"#ff4400"},{saturation:-68},{lightness:-4},{gamma:.72}]},{featureType:"road",elementType:"labels.icon"},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{hue:"#0077ff"},{gamma:3.1}]},{featureType:"water",stylers:[{hue:"#00ccff"},{gamma:.44},{saturation:-33}]},{featureType:"poi.park",stylers:[{hue:"#44ff00"},{saturation:-23}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{hue:"#007fff"},{gamma:.77},{saturation:65},{lightness:99}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{gamma:.11},{weight:5.6},{saturation:99},{hue:"#0091ff"},{lightness:-86}]},{featureType:"transit.line",elementType:"geometry",stylers:[{lightness:-48},{hue:"#ff5e00"},{gamma:1.2},{saturation:-23}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{saturation:-64},{hue:"#ff9100"},{lightness:16},{gamma:.47},{weight:2.7}]}]});s.forEach(function(e,t){var a=new google.maps.Marker({position:e.latlon,map:g,title:"Big Map",icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"});google.maps.event.addListener(a,"click",function(t){n=e,e.message.open(g,a)})});var p=new google.maps.LatLng(t,l),u=new google.maps.Marker({position:p,animation:google.maps.Animation.BOUNCE,map:g,icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"});a=u,g.panTo(new google.maps.LatLng(t,l)),google.maps.event.addListener(g,"click",function(t){var n=new google.maps.Marker({position:t.latLng,animation:google.maps.Animation.BOUNCE,map:g,icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"});a&&a.setMap(null),a=n,g.panTo(n.position),o.clickLat=n.getPosition().lat(),o.clickLong=n.getPosition().lng(),e.$broadcast("clicked")})};return google.maps.event.addDomListener(window,"load",o.refresh(r,i)),o});
!function(){var a=["$scope","$location"],l=function(a,l){var o=this,n="CalMapIt MashApp";o.isCollapsed=!1,o.appTitle=n};l.$inject=a,angular.module("cmiApp").controller("navbarController",l)}();
!function(){var a=["$scope","$http","$rootScope","geolocation","gservice"],t=function(a,t,o,e,r){var n=this;n.formData={};var i={};n.formData.latitude=39.5,n.formData.longitude=-98.35,e.getLocation().then(function(a){i={lat:a.coords.latitude,"long":a.coords.longitude},n.formData.longitude=parseFloat(i["long"]).toFixed(3),n.formData.latitude=parseFloat(i.lat).toFixed(3),n.formData.htmlverified="Yep (Thanks for giving us real data!)",r.refresh(n.formData.latitude,n.formData.longitude)}),o.$on("clicked",function(){a.$apply(function(){n.formData.latitude=parseFloat(r.clickLat).toFixed(3),n.formData.longitude=parseFloat(r.clickLong).toFixed(3),n.formData.htmlverified="Nope (Thanks for spamming my map...)"})}),n.createUser=function(){var a={username:n.formData.username,gender:n.formData.gender,age:n.formData.age,favlang:n.formData.favlang,location:[n.formData.longitude,n.formData.latitude],htmlverified:n.formData.htmlverified};t.post("/users",a).success(function(a){n.formData.username="",n.formData.gender="",n.formData.age="",n.formData.favlang="",r.refresh(n.formData.latitude,n.formData.longitude)}).error(function(a){console.log("Error: "+a)})}};t.$inject=a,angular.module("cmiApp").controller("userController",t)}();